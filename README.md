# Эмулятор CHIP-8

**CHIP-8** - это небольшой, интерпретируемый язык программирования и интерпретатор для него,
разработанный в 1970-х годах для любителей компьютеров.  
Использовался для создания игр, таких как Pong, Tetris, Space Invaders и т.п.

### Экран

**CHIP-8** рисует графику на экране используя спрайты. Спрайт имеет 8 пикселей в ширину и от 1 до 15 пикселей в высоту.
Так же интерпретатор предоставляет 16 предопределенных спрайтов размером 4x5 пикселей.
Это шестнадцатеричные числа от 0 до F.  

### Память

**CHIP-8** имеет 4 кб памти (адреса 0x000h-0xFFFh). Первые 512 байт (адреса 0x000h-0x200h) зарезервированы для интерпретатора,
так что игре доступно только 3,584 байт.
Соответственно игра располагается в памяти начиная с адреса 0x200h.

### Инструкции:

**Chip-8** имеет 36 инструкций. Все инструкции имеют длину 2 байта (16 бит).  
Каждая инструкция кодируется опкодом (кодом операции) и операндом — данными, над которыми производится операция.

**Опкод** | **Команда на ассемблере**

    nnn          12-ти битный адрес  
    kk           8-ми битная константа  
    x            4-х битный номер регистра  
    y            4-х битный номер регистра  
    1..9, A..F   шестнадцатеричные цифры

Примером инструкции может быть такая операция:

    ADD (сложение).
    SUB (вычитание).
    JP (переход).
    SKP (пропуск).
    RET (возврат).
    LD (загрузка).

Значения операндов:

    Адрес (I).
    Регистр (Vx, Vy).
    Константа(N или NN для полубайта или байта).

### Регистры
**CHIP-8** имеет 16 восьмибитных регистров общего назначения V0-VF. Регистр VF используется как флаг переноса и индикатор столкновений спрайтов.
Адресный регистр I используется для хранения адресов памяти и имеет размер 16 бит, но используются только младшие 12 бит, так как их хватает что бы адресовать 4 кб памяти.

Помимо регистров существует два восьмибитных таймера: задержки и звука. Оба таймера уменьшают свое значение 60 раз в секунду, пока не достигнут нуля. Если значение звукового таймера отлично от нуля интерпретатор выводил звук (beep!).

### Клавиатура

Сопоставление клавиш основано на шестнадцатеричной клавиатуре:

	|1|2|3|C|	=>	|1|2|3|4|
	|4|5|6|D|	=>	|Q|W|E|R|
	|7|8|9|E|	=>	|A|S|D|F|
	|A|0|B|F|	=>	|Z|X|C|V|


**Список источников и репозиториев, на основе которых собрана информация:**
- [Habr](https://habr.com/ru/companies/skillfactory/articles/593525/ "Habr")
- [Opcode](https://emunix.org/post/writing-chip-8-emulator-part-2/ "Opcode")
- [Chip8-roms](https://github.com/kripod/chip8-roms "Chip8-roms")
